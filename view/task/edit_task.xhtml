<div>
#{form_for(@task, :method => :post, :action => TaskController.r(:save)) do |f|
  params = {:required => 'required'}
  submit_label = @submit_action == :create ? 'Создать таск' : 'Обновить таск'
  f.input_hidden(:id)
  f.input_text('Название таска', :name, params)
  f.textarea('Описание таска', :description, params)
  f.input_checkbox("Опубликован", :is_published, {:checked => ""})
  f.input_text('Ответ', :answer_regex, params)
  f.input_submit(submit_label, {:class => 'btn btn-primary'})
  f.input_hidden(:csrf_token, @csrf_token)
end}


#{if @submit_action == :update
  form_for(@task, :method => :post, :action => TaskController.r(:delete)) do |f|
    f.input_hidden(:id)
    f.input_submit('Удалить таск', {:class => 'btn btn-danger', :onClick => 'return confirm("А уверен ли?")'})
    f.input_hidden(:csrf_token, @csrf_token)
  end
end}
</div>
