<div>
#{form_for(@resource, :method => :post, :action => ResourceController.r(:save)) do |f|
  params = {:required => 'required'}
  submit_label = @submit_action == :create ? 'Создать ресурс' : 'Обновить ресурс'
  f.input_hidden(:id)
  f.input_text('Название ресурса', :name, params.merge({:class => 'input-xxlarge'}))
  f.textarea('Dockerfile', :dockerfile, params.merge({:class => 'input-xxlarge', :rows => 8}))
  f.input_checkbox("Запущен", :is_running, checked=(@resource.is_running ? @resource.is_running : nil), {:show_value => false})
  f.input_hidden(:version)
  f.input_submit(submit_label, {:class => 'btn btn-primary'})
  f.input_hidden(:csrf_token, @csrf_token)
end}


#{if @submit_action == :update
  form_for(@resource, :method => :post, :action => ResourceController.r(:delete)) do |f|
    f.input_hidden(:id)
    f.input_submit('Удалить таск', {:class => 'btn btn-danger', :onClick => 'return confirm("А уверен ли?")'})
    f.input_hidden(:csrf_token, @csrf_token)
  end
end}
</div>
