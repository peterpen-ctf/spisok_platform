<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />

        <title>#{@title}</title>

        #{css('reset')}
        #{css('grid')}
        #{css('layout')}
        #{css('text')}
    </head>
    <body>
        <div class="container">
            <div id="container" class="row">
                <!-- Top part, contains the navigation menu -->
                <div id="top" class="grid_12">
                    <header class="grid_6">
                        <h1>#{@title}</h1>
                    </header> 

                    <nav class="grid_6 last">
                    <ul class="clearfix">  
                      <li>#{MainController.a('Main', :index)} </li>

                      <li>#{UserController.a('Users', :all)} </li>
                      <li>#{TaskController.a('Tasks', :all)} </li>

                      <?r if logged_in? ?>
                      <li>#{UserController.a('Logout', :logout)}</li>
                      <?r else ?>
                      <li>#{UserController.a('Login', :login)}</li>
                      <?r end ?>

                    </ul>
                    </nav>
                  </div>

                  <?r [:success, :error].each do |type| ?>
                  <?r if flash[type] ?>
                  <div class="message grid_12 #{type}">
                    <p>#{flash[type]}</p>
                  </div>
                  <?r end ?>
                  <?r end ?>

                <div id="content" class="grid_12">
                    #{@content}
                </div>
            </div>

            <footer id="footer">
                <p>
                    Ramaze is free software and is licensed under the MIT license.<br />
                    All textual content is licensed under a 
                    <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">
                        Creative Commons license.
                    </a>
                </p>
            </footer>
        </div>
    </body>
</html>
